---
title: "Room - Android Local Database"
date: "2020-12-26"
tags: ["mash-up", "mash-up 10ê¸°", "hyeonseong", "room"]
description: "ì•ˆë“œë¡œì´ë“œ ë¡œì»¬ ë°ì´í„°ë² ì´ìŠ¤ ë£¸ì— ëŒ€í•´ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤ !!"
cover: "./cover.png"
---

# Room - Android Local Database

ğŸ™‡ **ì•ˆë…•í•˜ì„¸ìš” ! **

**Mash-Up 10ê¸° Android Developer ì •í˜„ì„± ì¸ì‚¬ë“œë¦½ë‹ˆë‹¤.** ğŸ™‡

_ì´ë²ˆ í¬ìŠ¤íŒ… ì£¼ì œë¡œ ë¬´ì—‡ì„ í• ê¹Œ ê³ ë¯¼ì„ í•˜ë‹¤,,,,_

_ìµœê·¼ ì·¨ì—… ì¤€ë¹„ë¥¼ í•˜ë©° ê·¸ë™ì•ˆ ê°œë°œí–ˆë˜ ì• í”Œë¦¬ì¼€ì´ì…˜ë“¤ì„ í•˜ë‚˜ì˜ í¬íŠ¸í´ë¦¬ì˜¤ë¡œ ë³´ì—¬ì£¼ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•œ ì ì´ ìˆìŠµë‹ˆë‹¤._

_ê°œë°œí•˜ë©° ì‚¬ìš©í–ˆë˜ ê¸°ìˆ  ìŠ¤íƒ ì¤‘ í•˜ë‚˜ì¸ Roomì— ëŒ€í•´ ë‹¤ì‹œ ì •ë¦¬í•´ë³¼ ê²¸ í¬ìŠ¤íŒ… ì£¼ì œë¡œ ì„ ì •í•˜ì˜€ìŠµë‹ˆë‹¤._

---

## ğŸ’¾ _Local Database_

ì•ˆë“œë¡œì´ë“œì—ì„œëŠ” ì•±ì˜ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì €ì¥ì†Œë¡œ SQLiteë¼ëŠ” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ë‹¤ë¥¸ ì™¸ë¶€ Databaseë“¤ê³¼ ë‹¬ë¦¬ ì†Œê·œëª¨ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ê³  ì‚¬ìš©í•˜ëŠ” ë° ì í•©í•œ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì• í”Œë¦¬ì¼€ì´ì…˜ ì‚¬ìš© ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ìš©ëŸ‰ì´ í¬ì§€ ì•Šì€ ë°ì´í„°ë“¤ì€ êµ³ì´ ì„œë²„ì— ì ‘ì†í•˜ê³  ì €ì¥í•˜ëŠ” ìˆ˜ê³ ë¥¼ ë“¤ì´ì§€ ì•Šê³  ë‚´ë¶€ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í†µí•´ ì €ì¥í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ ì ì€ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ëŠ”ë° ìµœì í™”ëœ ë§Œí¼ ì†ë„ê°€ ë¹ ë¥´ê³  ê°€ë³ë‹¤ëŠ” ì¥ì ì´ ì¡´ì¬í•˜ì—¬ í˜„ì‹œì ì˜ ë§ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ê³µí†µìœ¼ë¡œ ë‚´ë¶€ DBë¥¼ í™œìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.

> **Local Database ì¢…ë¥˜**

<span style="color:red">_SQLite Database Library, Room Database Library_</span>

ì•ˆë“œë¡œì´ë“œì—ì„œ Local Databaseë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ, SQLite Database Library ì‚¬ìš©ì„ ê¶Œì¥í•´ì™”ìŠµë‹ˆë‹¤.

<img src="room_img/sqlite.png" width="1000">

í•˜ì§€ë§Œ ì´ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ìƒë‹¹í•œ ì‹œê°„ê³¼ ë…¸ë ¥ ë“± ì‚¬ìš© ë°©ë²•ì´ ë³µì¡í•˜ì—¬, êµ¬ê¸€ì—ì„œëŠ” ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³ ì ìƒˆë¡­ê²Œ Room Database Libraryë¥¼ ë°°í¬í•˜ì˜€ìŠµë‹ˆë‹¤.

```
ğŸ‘ Roomì— ìƒˆë¡­ê²Œ ì¶”ê°€ëœ ê¸°ëŠ¥

1. ì»´íŒŒì¼ ì‹œì ì— SQL ì¿¼ë¦¬ì— ëŒ€í•œ ìœ íš¨ì„± ê²€ì‚¬ ê¸°ëŠ¥
2. Schemaê°€ ë³€ê²½ë  ì‹œ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ ê¸°ëŠ¥
3. Java ë°ì´í„° ê°ì²´ë¥¼ ë³€ê²½í•˜ê¸° ìœ„í•´ ìƒìš©êµ¬ ì½”ë“œ ì—†ì´ ORM ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ ë§¤í•‘ ê¸°ëŠ¥
4. LiveDataì™€ Rx Javaë¥¼ ìœ„í•œ Observation ìƒì„± ë° ë™ì‘ ê¸°ëŠ¥
```

ìœ„ì™€ ê°™ì´ SQLite Database Libraryì—ì„œëŠ” í—ˆìš©ë˜ì§€ ì•Šë˜ ê¸°ëŠ¥ë“¤ì´ ìƒˆë¡­ê²Œ ì¶”ê°€ë˜ë©´ì„œ ì¡°ê¸ˆ ë” ê°œë°œìë“¤ì´ Local DBë¥¼ ê°„í¸í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ëœ ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ì— ë”°ë¼ SQLite Databaseì˜ ì‚¬ìš© ë¹ˆë„ëŠ” ì¤„ì–´ë“¤ê³ , Room Databaseì˜ ì‚¬ìš© ë¹ˆë„ëŠ” ì¦ê°€í•˜ê³  ìˆìŠµë‹ˆë‹¤.

---

## ğŸ’½ _Room Library_

> **ORMì´ë€?**

ë¨¼ì €, Roomì„ ìì„¸íˆ ì•Œì•„ë³´ê¸° ì „ì— ORMì— ëŒ€í•œ ê°œë…ì„ ê°„ë‹¨íˆ ì‚´í´ë³¼ í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.

- **Object-Relational Mapping**

  ORMì´ë€, Object Relational Mapping, ê°ì²´-ê´€ê³„ ë§¤í•‘ì˜ ì¤„ì„ë§ì…ë‹ˆë‹¤. ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°(Object Oriented Programming, OOP)ì€ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³ , ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤(Relational DataBase, RDB)ëŠ” í…Œì´ë¸”ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ê°ì²´ ëª¨ë¸ê³¼ ê´€ê³„í˜• ëª¨ë¸ ê°„ì— ë¶ˆì¼ì¹˜ê°€ ì¡´ì¬í•˜ê²Œ ë˜ëŠ”ë°, ORMì„ í†µí•´ ê°ì²´ ê°„ì˜ ê´€ê³„ë¥¼ ë°”íƒ•ìœ¼ë¡œ SQLë¬¸ì„ ìë™ìœ¼ë¡œ ìƒì„±í•˜ì—¬ ë¶ˆì¼ì¹˜ë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- **ì¥ì **

  1. ê°ì²´ ì§€í–¥ì ì¸ ì½”ë“œë¡œ ì¸í•´ ë” ì§ê´€ì ì´ê³ , ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤.
  2. ì¬ì‚¬ìš©ì„± ë° ìœ ì§€ë³´ìˆ˜ì˜ í¸ë¦¬ì„±ì´ ì¦ê°€í•œë‹¤.

- **ë‹¨ì **
  1. ì™„ë²½í•œ ORMìœ¼ë¡œë§Œ ì„œë¹„ìŠ¤ë¥¼ êµ¬í˜„í•˜ê¸°ê°€ ì–´ë µë‹¤.
  2. í”„ë¡œì‹œì €ê°€ ë§ì€ ì‹œìŠ¤í…œì—ì„œëŠ” ORMì˜ ê°ì²´ ì§€í–¥ì ì¸ ì¥ì ì„ í™œìš©í•˜ê¸° ì–´ë µë‹¤.

> **Roomì´ë€?**

ì•ˆë“œë¡œì´ë“œ ì•„í‚¤í…ì³ ì»´í¬ë„ŒíŠ¸(Android Architecture Components, AAC)ì— ì†í•˜ëŠ” Roomì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ SQLite ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‰½ê³  í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ORM ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.

> **Room Library êµ¬ì„±ìš”ì†Œ**

ì—”í‹°í‹°(Entity), ë°ì´í„° ì ‘ê·¼ ê°ì²´(DAO), ë£¸ ë°ì´í„°ë² ì´ìŠ¤(Room Database), ì´ ì„¸ ê°œì˜ êµ¬ì„± ìš”ì†Œë¥¼ í†µí•´ Room ë°ì´í„°ë² ì´ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ êµ¬ì„±ë©ë‹ˆë‹¤.

<img src="room_img/room_diagram.png" width="1000">

- Entity

  ë°ì´í„°ë² ì´ìŠ¤ ë‚´ì˜ ë¦´ë ˆì´ì…˜ ì¦‰, í…Œì´ë¸”ì„ ëœ»í•˜ë©° DBì— ì €ì¥í•  ë°ì´í„° í˜•ì‹ì„ ì •ì˜í•©ë‹ˆë‹¤.

* DAO(Data Access Object)

  ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•˜ì—¬ ìˆ˜í–‰í•  ì‘ì—…ì„ ë©”ì†Œë“œ í˜•íƒœë¡œ ì •ì˜í•©ë‹ˆë‹¤.

- Room Database

  ë°ì´í„°ë² ì´ìŠ¤ì˜ ì „ì²´ì ì¸ ì†Œìœ ì ì—­í• ì„ í•˜ë©° DBë¥¼ ìƒˆë¡­ê²Œ ìƒì„±í•˜ê±°ë‚˜ ë²„ì „ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.

---

## ğŸ’» _ì˜ˆì œ ì‚´í´ë³´ê¸°_

Room Databaseë¥¼ í™œìš©í•˜ì—¬ í¬íŠ¸í´ë¦¬ì˜¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

<img src="room_img/database.png" width="250">

```
- Entity (ë°ì´í„°ë² ì´ìŠ¤ì˜ í…Œì´ë¸” ë‹´ë‹¹)

  PortfolioEntity, ProfileEntity

- DAO (ê°ê°ì˜ í…Œì´ë¸”ì— ì ‘ê·¼í•˜ì—¬ ì‘ì—… ìˆ˜í–‰ì„ ë‹´ë‹¹)

  PortfolioDao, ProfileDao

- Room Database (ë°ì´í„°ë² ì´ìŠ¤ì˜ ì „ì²´ì ì¸ ì†Œìœ ì ì—­í• )

  PortfolioDatabase

```

ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì„±ìš”ì†Œ ì…ë‹ˆë‹¤.

> **Build.Gradle ì„¤ì •í•˜ê¸°**

```kotlin
dependencies {
  	//Room Database Library
    implementation "androidx.room:room-runtime:2.2.6"
    implementation "androidx.room:room-ktx:2.2.6"
    implementation "androidx.room:room-testing:2.2.6"
    kapt "androidx.room:room-compiler:2.2.6"
}
```

> **PortfolioEntity**

```kotlin
@Entity(tableName = "portfolio")
data class PortfolioEntity(
    @PrimaryKey(autoGenerate = true)
    @ColumnInfo(name = "id")
    val id: Long,
    @ColumnInfo(name = "thumbnail")
    val thumbnail: Int,
    @ColumnInfo(name = "image_drawable")
    val image: String,
    @ColumnInfo(name = "project")
    val project: String,
    @ColumnInfo(name = "introduction")
    val introduction: String,
    @ColumnInfo(name = "programming_language")
    val programming: String,
    @ColumnInfo(name = "architecture")
    val architecture: String,
    @ColumnInfo(name = "library")
    val library: String,
    @ColumnInfo(name = "server")
    val server: String,
    @ColumnInfo(name = "term")
    val term: String,
    @ColumnInfo(name = "link")
    val link: String
)
```

@Entity ì–´ë…¸í…Œì´ì…˜ê³¼ í•¨ê»˜ ë°ì´í„°ë² ì´ìŠ¤ ë‚´ì˜ ë¦´ë ˆì´ì…˜(í…Œì´ë¸”)ì„ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤. í´ë˜ìŠ¤ì˜ ì´ë¦„ì€ <span style="color:red">_PortfolioEntity_</span>ì´ì§€ë§Œ tableNameì„ <span style="color:red">_portfolio_</span>ë¡œ ì„¤ì •í•˜ì˜€ê¸° ë•Œë¬¸ì— í´ë˜ìŠ¤ ì´ë¦„ê³¼ëŠ” ë³„ê°œë¡œ ìœ„ ë°ì´í„°ë² ì´ìŠ¤ ë‚´ì˜ ë¦´ë ˆì´ì…˜ ì´ë¦„ì€ <span style="color:red">_portfolio_</span>ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. ë˜í•œ, í´ë˜ìŠ¤ì˜ ìƒì„±ìë¡œ ë¦´ë ˆì´ì…˜ ë‚´ì˜ ê°ê°ì˜ ì†ì„±ë“¤ì„ ì •ì˜í•˜ê³  ìˆìŠµë‹ˆë‹¤.

> **PortfolioDao**

```kotlin
@Dao
interface PortfolioDao {

    @Insert(onConflict = OnConflictStrategy.REPLACE)
    suspend fun insertPortfolio(portfolioEntity: PortfolioEntity)

    @Query("SELECT * FROM portfolio")
    suspend fun getPortfolio(): List<PortfolioEntity>

    @Query("SELECT * FROM portfolio WHERE id = :id")
    suspend fun getPortfolioInfo(id: Long): PortfolioEntity

}
```

@Dao ì–´ë…¸í…Œì´ì…˜ê³¼ í•¨ê»˜ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•˜ì—¬ ìˆ˜í–‰í•  ì‘ì—…ë“¤ì„ ë©”ì„œë“œ í˜•íƒœë¡œ ì§€ì •í•©ë‹ˆë‹¤. ì´ ë©”ì†Œë“œë“¤ì€ interface ë‚´ì— í¬í•¨ë˜ë¯€ë¡œ ëª¨ë‘ ì¶”ìƒ ë©”ì†Œë“œë“¤ì´ë©° ì¡°íšŒ, ì¶”ê°€, ìˆ˜ì •, ì‚­ì œ ê¸°ëŠ¥( <span style="color:yellow">_ì €ëŠ” ì¶”ê°€, ì¡°íšŒ ê¸°ëŠ¥ë§Œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤._</span> )ì„ êµ¬í˜„í•©ë‹ˆë‹¤.

ë˜í•œ, insert ë©”ì†Œë“œ ë¶€ë¶„ì„ ë³´ë©´, onConflict ì„¤ì •ì„ í†µí•´ ë§Œì•½ ë°ì´í„°ë² ì´ìŠ¤ ë‚´ì— ì¤‘ë³µëœ ë°ì´í„° ê°’ì´ ì¡´ì¬í•œë‹¤ë©´, ê·¸ ê°’ ìœ„ì— ë®ì–´ ì”Œìš°ëŠ” ì„¤ì •ì„ í•´ë‘ì—ˆìŠµë‹ˆë‹¤.

> **PortfolioDatabase**

```kotlin
@Database(
    entities = [
        ProfileEntity::class,
        PortfolioEntity::class
    ],
    version = VERSION,
    exportSchema = false
)

abstract class PortfolioDatabase : RoomDatabase() {

    abstract fun profileDao(): ProfileDao
    abstract fun portfolioDao(): PortfolioDao

    companion object {
        const val VERSION = 1
        private const val TABLE_NAME = "portfolio_db"

        @Volatile
        private var instance: PortfolioDatabase? = null

        fun getInstance(context: Context): PortfolioDatabase {
            return instance ?: synchronized(this) {
                instance ?: buildDatabase(context).also { instance = it }
            }
        }

        private fun buildDatabase(context: Context): PortfolioDatabase {
            return Room.databaseBuilder(context, PortfolioDatabase::class.java, TABLE_NAME)
                .build()
        }
    }

}
```

@Database ì–´ë…¸í…Œì´ì…˜ê³¼ í•¨ê»˜ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì „ì²´ì ì¸ ì†Œìœ ì ì—­í• ì„ í•˜ê³  ìˆìœ¼ë©° ì•ì—ì„œ ìƒì„±í•œ Entity, DAO í´ë˜ìŠ¤ë¥¼ í†µí•©ì ìœ¼ë¡œ ë¬¶ì–´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìƒì„±í•˜ê±°ë‚˜ ë²„ì „ ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.

> **Dagger DI ( ì˜ì¡´ì„± ì£¼ì…ì— ëŒ€í•œ ì„¤ëª…ì€ ìƒëµí•˜ê² ìŠµë‹ˆë‹¤ :( ) **
>
> > **DatabaseModule**
> >
> > ```kotlin
> > @Module
> > class DatabaseModule {
> >
> >    @Singleton
> >    @Provides
> >    fun providesPortfolioDatabase(context: Context): PortfolioDatabase =
> >        PortfolioDatabase.getInstance(context)
> >
> >    @Singleton
> >    @Provides
> >    fun providesPortfolioDao(db: PortfolioDatabase): PortfolioDao = db.portfolioDao()
> >
> > }
> > ```
> >
> > @Singleton ì–´ë…¸í…Œì´ì…˜ì„ í†µí•´, ìƒì„±ìê°€ ì—¬ëŸ¬ ì°¨ë¡€ í˜¸ì¶œë˜ë”ë¼ë„ ì‹¤ì œë¡œ ìƒì„±ë˜ëŠ” ê°ì²´ëŠ” í•˜ë‚˜ì´ê³ , ìµœì´ˆ ìƒì„± ì´í›„ì— í˜¸ì¶œëœ ìƒì„±ìëŠ” ìµœì´ˆì˜ ìƒì„±ìê°€ ìƒì„±í•œ ê°ì²´ë¥¼ ë¦¬í„´í•˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
>
> > **PortfolioRepository**
> >
> > ```kotlin
> > interface PortfolioRepository {
> >
> >    suspend fun insertPortfolio(portfolio: Portfolio)
> >
> >    suspend fun getPortfolio(): List<Portfolio>
> >
> >    suspend fun getPortfolioInfo(id: Long): Portfolio
> >
> > }
> > ```
>
> > **PortfolioRepositoryImpl**
> >
> > ```kotlin
> > class PortfolioRepositoryImpl(
> >    private val portfolioDao: PortfolioDao
> > ) : PortfolioRepository {
> >
> >    override suspend fun insertPortfolio(portfolio: Portfolio) =
> >        portfolioDao.insertPortfolio(portfolio.mapPortfolioEntity())
> >
> >    override suspend fun getPortfolio(): List<Portfolio> =
> >        portfolioDao.getPortfolio().mapPortfolioList()
> >
> >    override suspend fun getPortfolioInfo(id: Long): Portfolio =
> >        portfolioDao.getPortfolioInfo(id).mapPortfolio()
> >
> > }
> > ```
>
> > **PortfolioMapper**
> >
> > ```kotlin
> > fun Portfolio.mapPortfolioEntity(): PortfolioEntity =
> >    PortfolioEntity(
> >        id,
> >        thumbnail,
> >        image,
> >        project,
> >        introduction,
> >        programming,
> >        architecture,
> >        library,
> >        server,
> >        term,
> >        link
> >    )
> >
> > fun PortfolioEntity.mapPortfolio(): Portfolio =
> >    Portfolio(
> >    		id,
> >    		thumbnail,
> >    		image,
> >    		project,
> >    		introduction,
> >    		programming,
> >    		architecture,
> >    		library,
> >    		server,
> >    		term,
> >    		link
> >    )
> >
> > fun List<PortfolioEntity>.mapPortfolioList(): List<Portfolio> =
> >    map { it.mapPortfolio() }
> > ```
> >
> > ê°€ì ¸ì˜¨ Dataë¥¼ Mappingí•˜ëŠ” ë§¤ì†Œë“œì…ë‹ˆë‹¤.

> **SampleData**

```
val INIT_PORTFOLIO: List<Portfolio> = listOf(
	Portfolio(
		..
	),
	Portfolio(
		..
	),
		..
)
```

> **HomeViewModel**

```kotlin
class HomeViewModel @Inject constructor(
	private val portfolioRepository: PortfolioRepository
) : ViewModel() {

  private val portfolio = MediatorLiveData<List<Portfolio>>()

  private val _homePortfolioUiModel = MediatorLiveData<List<HomePortfolioUiModel>>()
  val homePortfolioUiModel: LiveData<List<HomePortfolioUiModel>>
        get() = _homePortfolioUiModel

  init {
    _homePortfolioUiModel.addSource(portfolio) {
      _homePortfolioUiModel.value = it.mapToHomePortfolioUiModel()
    }
  }

  private fun insertPortfolio() {
    viewModelScope.launch {
      INIT_PORTFOLIO.iterator().forEach {
        portfolioRepository.insertPortfolio(it)
      }
    }

    portfolio.value = INIT_PORTFOLIO
  }

  private fun getPortfolio() {
    viewModelScope.launch {
      portfolio.value = portfolioRepository.getPortfolio()
    }
  }
}

```

---

ì´ë²ˆ í¬ìŠ¤íŒ…ì„ í†µí•´ SQLite Databaseì— ë¹„í•´ Room Databaseê°€

ì„±ëŠ¥ë©´ì—ì„œë„ ë›°ì–´ë‚˜ê³  í¸ë¦¬í•˜ê³  ì§ê´€ì ì¸ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì²´ê°í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤ :)

ê·¸ëŸ¼ ğŸ‘‹

---

## ğŸ“– _Reference_

[Room_Blog](https://juyeop.tistory.com/30)

[Room_Google Developers](https://developer.android.com/training/data-storage/room?hl=ko)

[ORM_Blog](https://velog.io/@dnjscksdn98/Database-ORM%EC%9D%B4%EB%9E%80)
